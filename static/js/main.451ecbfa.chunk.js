(this["webpackJsonpspotify-react"]=this["webpackJsonpspotify-react"]||[]).push([[0],Array(34).concat([function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),c=n(6),i=n.n(c),r=(n(34),n(7)),o=n(8),l=n(10),u=n(9),j=(n(35),function(){return["streaming","user-read-private","user-read-playback-state","user-library-read"].join(" ")}),d="2dd54be014994735881dce8e68413558",h=Object.freeze({api:function(){return"https://api.spotify.com/v1"},accounts:function(){return"https://accounts.spotify.com"},auth:function(e){return"".concat(h.accounts(),"/authorize?response_type=token&client_id=").concat(d).concat("&scope="+encodeURIComponent(j()),"&redirect_uri=").concat(encodeURIComponent(e))},player:function(){return"".concat(h.api(),"/me/player")},shuffle:function(){return"".concat(h.player,"/shuffle")},repeat:function(){return"".concat(h.player,"/repeat")}}),b=h,m=n(1),f=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={error:e.error},s}return Object(o.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("div",{children:[this.state.error?Object(m.jsx)("p",{children:this.state.error}):null,Object(m.jsx)("a",{href:b.auth("http://localhost:3000/"),children:"Login"})]})}}]),n}(a.a.Component),v=n(3);n(37),n(38);function p(e){return Object(m.jsx)("button",{className:"btn-ctrl",onClick:e.onClick,children:Object(m.jsx)("img",{src:e.image,alt:e.image,className:"img-ctrl hover-grow"})})}function O(e){return Object(m.jsx)("button",{className:"btn-ctrl",onClick:e.onClick,children:Object(m.jsx)("img",{src:e.image,alt:e.image,className:"img-ctrl-small"})})}function x(e){return Object(m.jsxs)("div",{className:"d-flex col-3 info-display",children:[Object(m.jsx)("img",{src:e.image,alt:"album art",className:"img-small album-art"}),Object(m.jsxs)("div",{className:"mt-2",children:[Object(m.jsxs)("span",{className:"track-name",children:[e.track," "]}),Object(m.jsx)(O,{image:"plus.svg"}),Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"artist-name",children:e.artist})]})]})}var g=n(23),y=new(n.n(g).a),k={accessToken:null,tokenType:null,expiresIn:null};y.setAuth=function(e){k=e,y.setAccessToken(e.accessToken)},y.getAuth=function(){return k};var C=y,N=(n(39),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={paused:e.paused,shuffleMode:e.shuffleMode,repeatMode:e.repeatMode},s.onShuffleClick=s.onShuffleClick.bind(Object(v.a)(s)),s.onPreviousClick=s.onPreviousClick.bind(Object(v.a)(s)),s.onPlayClick=s.onPlayClick.bind(Object(v.a)(s)),s.onNextClick=s.onNextClick.bind(Object(v.a)(s)),s.onRepeatClick=s.onRepeatClick.bind(Object(v.a)(s)),s}return Object(o.a)(n,[{key:"onShuffleClick",value:function(){var e=this;C.setShuffle(!this.state.shuffleMode).then((function(t){e.setState({shuffleMode:t})})).catch(console.log)}},{key:"onPreviousClick",value:function(){C.skipToNext().then((function(e){console.log(e)})).catch(console.log)}},{key:"onPlayClick",value:function(){this.state.paused?C.play().then(console.log).catch(console.log):C.pause().then(console.log).catch(console.log)}},{key:"onNextClick",value:function(){C.skipToPrevious().then((function(e){console.log(e)})).catch(console.log)}},{key:"onRepeatClick",value:function(){var e=this,t=this.parseRepeatMode(this.state.repeatMode+1);C.setRepeat(t).then((function(t){e.setState({repeatMode:e.parseRepeatMode(t)})})).catch(console.log)}},{key:"parseRepeatMode",value:function(e){var t=["off","context","track"];if("string"===typeof e)return t.indexOf(e);if("number"===typeof e)return t[e%3];throw new Error("Invalid repeat mode: "+e)}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"d-flex justify-content-center btn-bar",children:[Object(m.jsx)(p,{image:"./shuffle-".concat(this.state.shuffleMode?"on":"off",".svg"),onClick:this.onShuffleClick}),Object(m.jsx)(p,{image:"./previous.svg",onClick:this.onPreviousClick}),Object(m.jsx)(p,{image:this.state.paused?"./play.svg":"./pause.svg",onClick:this.onPlayClick}),Object(m.jsx)(p,{image:"./next.svg",onClick:this.onNextClick}),Object(m.jsx)(p,{image:"./repeat-".concat(this.state.repeatMode,".svg"),onClick:this.onRepeatClick})]})}}]),n}(a.a.Component)),w=n(11),M=n(16),S=n(15),_=(n(43),S.a.Handle),P=function(e){var t=e.value,n=(e.dragging,e.index,Object(M.a)(e,["value","dragging","index"]));return Object(m.jsx)(_,Object(w.a)(Object(w.a)({value:t},n),{},{className:"handle"}))};function V(e){return Object(m.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(m.jsx)("span",{className:"time",children:T(e.position)}),Object(m.jsx)(S.a,{min:0,max:e.duration,value:e.position,handle:P,onChange:e.onSeek,className:"timeline"}),Object(m.jsx)("span",{className:"time",children:T(e.duration)})]})}function T(e){var t=~~(e/1e3),n=~~(t/3600),s=~~(t%3600/60),a=~~t%60,c="";return n>0&&(c+=n+":"+(s<10?"0":"")),c+=s+":"+(a<10?"0":""),c+=""+a}n(44);var D=n(67),A=n(66),I=(n(45),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={devices:[],volume:0,sound:!0},s.onChangeDevice=s.onChangeDevice.bind(Object(v.a)(s)),s.updateDevices=s.updateDevices.bind(Object(v.a)(s)),s.onToggleVolume=s.onToggleVolume.bind(Object(v.a)(s)),s.onChangeVolume=s.onChangeVolume.bind(Object(v.a)(s)),s.setVolume=s.setVolume.bind(Object(v.a)(s)),s.player=window.Spotify,s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.updateDevices()}},{key:"onChangeDevice",value:function(e){var t=this;C.transferMyPlayback([e]).then((function(){var n=t.state.devices,s=t.state.volume;n.forEach((function(t){t.is_active=t.id===e,t.is_active&&(s=t.volume_percent)})),t.setState({devices:n,volume:s})})).catch(console.log)}},{key:"updateDevices",value:function(){var e=this;C.getMyDevices().then((function(t){e.setState({devices:t.devices})})).catch(console.log)}},{key:"onToggleVolume",value:function(e){this.setState({sound:!this.state.sound},this.setVolume)}},{key:"onChangeVolume",value:function(e){this.setState({volume:e},this.setVolume)}},{key:"setVolume",value:function(){C.setVolume((this.state.sound?1:0)*this.state.volume).then().catch(console.log)}},{key:"render",value:function(){var e=Object(m.jsx)(D.a,{title:"Your devices",children:Object(m.jsx)(H,{devices:this.state.devices,onChangeDevice:this.onChangeDevice})});return Object(m.jsxs)("div",{className:"col-3 d-flex media-controls",children:[Object(m.jsx)("div",{className:"devices",children:Object(m.jsx)(A.a,{trigger:"click",placement:"top",overlay:e,children:Object(m.jsx)(p,{image:"./devices.svg",onClick:this.updateDevices})})}),Object(m.jsxs)("div",{className:"d-flex flex-grow-1 volume",children:[Object(m.jsx)(p,{image:"./sound.svg",onClick:this.onToggleVolume}),Object(m.jsx)(S.a,{min:0,max:100,value:this.state.volume,handle:function(e){var t=e.value,n=(e.dragging,e.index,Object(M.a)(e,["value","dragging","index"]));return Object(m.jsx)(S.a.Handle,Object(w.a)(Object(w.a)({value:t},n),{},{className:"handle"}))},onChange:this.onChangeVolume,className:"flex-grow-1 volume-slider"})]})]})}}]),n}(a.a.Component));function H(e){return Object(m.jsx)("div",{children:e.devices.map((function(t){return Object(m.jsx)(R,{id:t.id,name:t.name,type:t.type,active:t.is_active,onClick:e.onChangeDevice},t.id)}))})}function R(e){return Object(m.jsxs)("div",{className:"d-flex device"+(e.active?" active":""),onClick:function(){return e.onClick(e.id)},children:[Object(m.jsx)("img",{src:"./disc.png",alt:e.type,className:"img-small img-device"}),Object(m.jsxs)("div",{className:"mt-2",children:[Object(m.jsx)("span",{className:"device-name",children:e.name}),Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"device-type",children:e.type})]})]})}var L={context:{metadata:{}},paused:!0,position:0,duration:1,shuffleMode:!1,repeatMode:0,volume:0,track:{id:"4g9e5hnElJZSOoJBRLrq1I",name:"these days",album:{name:"these days",images:[{url:"./disc.png"}]},artists:[{name:"guccihighwaters"}]}},B=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).intervalHandle=void 0,s.state=L,s.onSeek=s.onSeek.bind(Object(v.a)(s)),s.getPlaybackState=s.getPlaybackState.bind(Object(v.a)(s)),s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.mountPlayer()}},{key:"componentWillUnmount",value:function(){this.player.disconnect()}},{key:"mountPlayer",value:function(){var e=this;void 0!==window.Spotify?(this.player=new window.Spotify.Player({name:"Nico's Spotify Player",getOAuthToken:function(e){e(C.getAuth().accessToken)}}),this.createEventHandlers(),this.player.connect(),window.player=this.player,this.getPlaybackState()):setTimeout((function(){e.mountPlayer()}),1e3)}},{key:"createEventHandlers",value:function(){var e=this;this.player.on("initialization_error",(function(e){console.error("initialization_error",e)})),this.player.on("authentication_error",(function(e){console.error("authentication_error",e)})),this.player.on("account_error",(function(e){console.error("account_error",e)})),this.player.on("playback_error",(function(e){console.error("playback_error",e)})),this.player.on("player_state_changed",(function(t){console.log(t);var n=e.state.paused;null!==t&&e.setState({context:t.context,duration:t.duration,position:t.position,paused:t.paused,repeatMode:t.repeat_mode,shuffleMode:t.shuffle,track:t.track_window.current_track},(function(){var t=!e.state.paused;n&&t?e.startTimer():n||t||e.stopTimer()}))})),this.player.on("ready",(function(t){e.setState({deviceId:t.deviceId})}))}},{key:"getPlaybackState",value:function(){var e=this;C.getMyCurrentPlaybackState().then((function(t){e.setState({track:t.item,paused:!t.is_playing,duration:t.item.duration_ms,position:t.progress_ms,shuffleMode:t.shuffle_state,repeatMode:E(t.repeat_state),volume:t.device.volume_percent},(function(){e.state.paused||e.startTimer()}))})).catch(console.log)}},{key:"onSeek",value:function(e){this.player.seek(e)}},{key:"startTimer",value:function(){var e=this;this.intervalHandle=setInterval((function(){e.setState({position:e.state.position+1e3},(function(){e.state.position>=e.state.duration&&(e.stopTimer(),setTimeout(e.getPlaybackState))}))}),1e3)}},{key:"stopTimer",value:function(){clearInterval(this.intervalHandle)}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"row player-bar",children:[Object(m.jsx)(x,{image:this.state.track.album.images[0].url,track:this.state.track.name,artist:this.state.track.artists[0].name}),Object(m.jsxs)("div",{className:"col-6 ctrl-display",children:[Object(m.jsx)(N,{paused:this.state.paused,shuffleMode:this.state.shuffleMode,repeatMode:this.state.repeatMode}),Object(m.jsx)(V,{position:this.state.position,duration:this.state.duration,onSeek:this.onSeek})]}),Object(m.jsx)(I,{})]})}}]),n}(a.a.Component);function E(e){var t=["off","context","track"];if("string"===typeof e)return t.indexOf(e);if("number"===typeof e)return t[e];throw new Error("Invalid repeat mode: "+e)}n(49),n(50);var U=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={},s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(m.jsx)("div",{children:Object(m.jsx)("span",{className:"message",children:"Currently unavailable"})})}}]),n}(a.a.Component);function z(e){var t=e.user;return Object(m.jsxs)("div",{className:"d-flex flex-column social",children:[Object(m.jsxs)("div",{className:"you",children:[Object(m.jsx)("h3",{children:"You"}),Object(m.jsx)(J,{name:t.display_name,image:t.images[0].url,followers:t.followers.total})]}),Object(m.jsxs)("div",{className:"friends",children:[Object(m.jsx)("h3",{children:"Your Friends"}),Object(m.jsx)(U,{})]})]})}function J(e){var t=e.image,n=e.name,s=e.followers;return Object(m.jsxs)("div",{className:"d-flex",children:[Object(m.jsx)("img",{src:t,alt:t,className:"img-user"}),Object(m.jsxs)("div",{className:"user-details",children:[Object(m.jsx)("span",{className:"user-name",children:n}),Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"user-followers",children:s+" follower"+(1!==s?"s":"")})]})]})}n(51),n(52),n(53);function Y(e){var t=e.image,n=e.active,s=e.onClick;return Object(m.jsx)("div",{className:"menu-item"+(n?" active":""),children:Object(m.jsx)(p,{image:t,onClick:s})})}n(54),n(55);function W(e){var t=e.text,n=e.onClick;return Object(m.jsx)("span",{className:"btn-inline",onClick:n,children:t})}function F(e){switch(e.type){case"home":return Object(m.jsx)(q,Object(w.a)({},e));case"library":return Object(m.jsx)(G,Object(w.a)({},e));case"browse":return Object(m.jsx)(Z,Object(w.a)({},e));default:return null}}function q(e){return Object(m.jsxs)("div",{className:"submenu",children:[Object(m.jsx)("h1",{className:"",children:"Home"}),Object(m.jsxs)("ul",{className:"list-menu",children:[Object(m.jsx)($,{title:"Activity"}),Object(m.jsx)($,{title:"Playlists",entry:Object(m.jsx)(K,{playlists:e.playlists,onClick:e.onClick})})]})]})}var G=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),s=t.call(this,e),console.log(e),s.setViewport=e.onClick,s.display=s.display.bind(Object(v.a)(s)),s}return Object(o.a)(n,[{key:"display",value:function(e){var t=this;switch(e){case"songs":C.getMySavedTracks().then((function(e){t.setViewport("songs",void 0,e.items)}));break;case"albums":C.getMySavedAlbums().then((function(e){t.setViewport("albums",void 0,e)}));break;case"artists":C.getMyTopArtists().then((function(e){t.setViewport("artists",void 0,e)}));break;default:return null}}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"submenu",children:[Object(m.jsx)("h1",{className:"",children:"Library"}),Object(m.jsxs)("ul",{className:"list-menu",children:[Object(m.jsx)($,{title:"Songs",entry:Object(m.jsx)(W,{text:"View",onClick:function(){return e.display("songs")}})}),Object(m.jsx)($,{title:"Albums",entry:Object(m.jsx)(W,{text:"View",onClick:function(){return e.display("albums")}})}),Object(m.jsx)($,{title:"Artists",entry:Object(m.jsx)(W,{text:"View",onClick:function(){return e.display("artists")}})})]})]})}}]),n}(a.a.Component);function Z(){return Object(m.jsxs)("div",{className:"submenu",children:[Object(m.jsx)("h1",{className:"",children:"Library"}),Object(m.jsxs)("ul",{className:"list-menu",children:[Object(m.jsx)($,{title:"Search",entry:Object(m.jsx)("input",{type:"search",placeholder:"Search",className:"inp-search"})}),Object(m.jsx)($,{title:"Made for you"}),Object(m.jsx)($,{title:"Charts"}),Object(m.jsx)($,{title:"New Releases"})]})]})}function $(e){var t=e.title,n=e.entry,s=void 0===n?null:n;return Object(m.jsxs)("li",{children:[Object(m.jsx)("h1",{children:t}),s]})}function K(e){return Object(m.jsx)("ul",{className:"list-menu",children:e.playlists.map((function(t){return Object(m.jsxs)("li",{className:"d-flex playlist",onClick:function(){return e.onClick("playlist",t)},children:[Object(m.jsx)("img",{src:t.images[0].url,alt:t.images[0].url,className:"playlist-thumbnail"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{className:"playlist-name",children:t.name}),Object(m.jsx)("br",{}),Object(m.jsxs)("span",{className:"playlist-desc-small",children:[t.owner.display_name," - ",t.tracks.total," songs"]})]})]},t.id)}))})}var Q=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={user:e.user,playlists:[]},s.onMenuClick=e.onMenuClick,s.toggleHomeMenu=s.toggleHomeMenu.bind(Object(v.a)(s)),s.toggleLibraryMenu=s.toggleLibraryMenu.bind(Object(v.a)(s)),s.toggleBrowseMenu=s.toggleBrowseMenu.bind(Object(v.a)(s)),s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;C.getUserPlaylists(this.state.user.id,{limit:100}).then((function(t){e.setState({playlists:t.items},e.toggleHomeMenu)}))}},{key:"toggleHomeMenu",value:function(e){this.setState({menuName:"home",subMenuProps:{playlists:this.state.playlists,onClick:this.onMenuClick}})}},{key:"toggleLibraryMenu",value:function(e){this.setState({menuName:"library",subMenuProps:{onClick:this.onMenuClick}})}},{key:"toggleBrowseMenu",value:function(e){this.setState({menuName:"browse"})}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"d-flex menu",children:[Object(m.jsxs)("div",{className:"d-flex flex-column sidebar",children:[Object(m.jsx)(Y,{image:"./home.svg",active:"home"===this.state.menuName,onClick:this.toggleHomeMenu}),Object(m.jsx)(Y,{image:"./library.svg",active:"library"===this.state.menuName,onClick:this.toggleLibraryMenu}),Object(m.jsx)(Y,{image:"./browse.svg",active:"browse"===this.state.menuName,onClick:this.toggleBrowseMenu}),Object(m.jsx)("div",{className:"flex-grow-1"}),Object(m.jsx)(Y,{image:"./settings.svg",active:"settings"===this.state.menuName,onClick:function(){}})]}),Object(m.jsx)(F,Object(w.a)({type:this.state.menuName},this.state.subMenuProps))]})}}]),n}(a.a.Component);n(56),n(57);function X(e){var t=e.text,n=e.onClick;return Object(m.jsx)("button",{className:"btn-pill",onClick:n,children:t})}n(58);function ee(e){var t=e.tracks,n=e.playlist_uri;return Object(m.jsxs)("table",{className:"tracks",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{}),Object(m.jsx)("th",{}),Object(m.jsx)("th",{children:"Name"}),Object(m.jsx)("th",{children:"Artist"}),Object(m.jsx)("th",{children:"Album"}),Object(m.jsx)("th",{children:"Date"}),Object(m.jsx)("th",{children:"Duration"})]})}),Object(m.jsx)("tbody",{children:t.map((function(e,t){return Object(m.jsx)(te,Object(w.a)(Object(w.a)({},e),{},{playlist_uri:n,index:t}),e.track.id)}))})]})}function te(e){var t=e.added_at,n=e.track,s=e.playlist_uri,a=e.index;return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)(p,{image:"./play.svg",onClick:function(){return function(e,t){var n={};"string"===typeof e?n.context_uri=e:"object"===typeof e&&(n.uris=e);n.offset={position:t},console.log(n),C.play(n)}(s,a)}})}),Object(m.jsx)("td",{children:Object(m.jsx)(O,{image:"./plus.svg",onClick:function(){}})}),Object(m.jsx)("td",{children:n.name}),Object(m.jsx)("td",{children:n.artists.map((function(e){return e.name})).join(", ")}),Object(m.jsx)("td",{children:n.album.name}),Object(m.jsx)("td",{children:se(t)}),Object(m.jsx)("td",{children:ne(n.duration_ms)})]})}function ne(e){var t=~~(e/1e3),n=~~(t/3600),s=~~(t%3600/60),a=~~t%60,c="";return n>0&&(c+=n+":"+(s<10?"0":"")),c+=s+":"+(a<10?"0":""),c+=""+a}function se(e){var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(t.getMonth(),"-").concat(t.getDate())}function ae(e){var t=e.name,n=e.images,s=e.description,a=e.tracks,c=e.owner,i=e.uri,r=n[0].url,o=a.items.map((function(e){return e.track.duration_ms})).reduce((function(e,t){return e+t}));return Object(m.jsxs)("div",{className:"playlist",children:[Object(m.jsxs)("div",{className:"d-flex header",children:[Object(m.jsx)("img",{src:r,alt:r,className:"img-playlist"}),Object(m.jsxs)("div",{className:"d-flex flex-column details",children:[Object(m.jsx)("div",{className:"flex-grow-1"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{className:"playlist-name",children:t}),Object(m.jsx)("span",{className:"flew-grow-1 playlist-desc",children:s})]}),Object(m.jsxs)("span",{className:"playlist-meta",children:["Created by ",c.display_name," - ",a.total," songs,"," ",ce(o)]}),Object(m.jsxs)("div",{className:"d-flex action-bar",children:[Object(m.jsx)(X,{text:"Play",onClick:function(){return function(e,t){var n={};"string"===typeof e?n.context_uri=e:"object"===typeof e&&(n.uris=e);n.offset={position:t},console.log(n),C.play(n)}(i,0)}}),Object(m.jsx)("div",{className:"flex-grow-1"})]})]})]}),Object(m.jsx)(ee,{tracks:a.items,playlist_uri:i})]})}function ce(e){var t=~~(e/1e3),n=~~(t/3600),s=~~(t%3600/60),a="";return n>0&&(a+=n+" h "+(s<10?"0":"")),a+=s+" min"}n(59);function ie(e){var t;switch(console.log(e),e.type){case"playlist":t=Object(m.jsx)(ae,Object(w.a)({},e.subject));break;case"songs":t=Object(m.jsx)(ee,{tracks:e.data,playlist_uri:null});break;default:t=null}return Object(m.jsx)("div",{className:"flex-grow-1 viewport",children:t})}var re={name:"",followers:{total:0},images:[{url:""}]},oe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={user:re,type:void 0,subject:void 0},s.setView=s.setView.bind(Object(v.a)(s)),s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;C.getMe().then((function(t){e.setState({user:t})}))}},{key:"setView",value:function(e,t,n){var s=this;t?C.getGeneric(t.href).then((function(t){console.log(t),s.setState({type:e,subject:t})})).catch(console.log):this.setState({type:e,data:n})}},{key:"render",value:function(){return Object(m.jsxs)("main",{className:"d-flex flex-column",children:[Object(m.jsxs)("div",{className:"flex-grow-1 d-flex main-view",children:[Object(m.jsx)(Q,{user:this.state.user,onMenuClick:this.setView}),Object(m.jsx)(ie,{type:this.state.type,subject:this.state.subject,data:this.state.data}),Object(m.jsx)(z,{user:this.state.user})]}),Object(m.jsx)(B,{})]})}}]),n}(a.a.Component),le=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;Object(r.a)(this,n),s=t.call(this,e);var a=window.location.hash.substr(1),c=new URLSearchParams(a),i=c.get("error"),o=c.get("access_token"),l=c.get("token_type"),u=c.get("expires_in");return C.setAuth({accessToken:o,tokenType:l,expiresIn:u}),s.state={loggedIn:!(i||!o),error:i},s}return Object(o.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"App",children:this.state.loggedIn?Object(m.jsx)(oe,{}):Object(m.jsx)(f,{error:this.state.error})})}}]),n}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(m.jsx)(le,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}]),[[60,1,2]]]);
//# sourceMappingURL=main.451ecbfa.chunk.js.map