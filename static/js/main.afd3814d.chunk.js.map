{"version":3,"sources":["data/scopes.js","data/clientInfo.js","data/urls.js","components/Login.jsx","components/misc/ControlButton.jsx","components/player/PlaybackInfo.jsx","data/api.js","components/player/PlayerButtons.jsx","components/player/Timeline.jsx","components/player/MediaControls.jsx","components/player/PlayerBar.jsx","components/social/Friends.jsx","components/social/Social.jsx","components/menu/MenuButton.jsx","components/misc/InlineButton.jsx","components/menu/SubMenu.jsx","components/menu/Menu.jsx","components/misc/PillButton.jsx","components/viewport/TrackList.jsx","components/viewport/Playlist.jsx","components/viewport/ViewPort.jsx","components/Overview.jsx","App.jsx","serviceWorker.js","index.js"],"names":["join","urls","Object","freeze","api","accounts","auth","redirect_uri","clientInfo","encodeURIComponent","scopes","player","shuffle","repeat","Login","props","state","error","this","href","React","Component","ControlButton","className","onClick","src","image","alt","SmallControlButton","PlaybackInfo","track","artist","spotify","Spotify","accessToken","tokenType","expiresIn","setAuth","info","setAccessToken","getAuth","PlayerButtons","paused","shuffleMode","repeatMode","onShuffleClick","bind","onPreviousClick","onPlayClick","onNextClick","onRepeatClick","setShuffle","then","value","setState","catch","console","log","skipToNext","play","pause","skipToPrevious","newReapeatMode","parseRepeatMode","setRepeat","mode","types","indexOf","Error","Handle","Slider","handle","restProps","dragging","index","Timeline","formatTime","position","min","max","duration","onChange","onSeek","milliseconds","time","hrs","mins","secs","ret","MediaControls","devices","volume","sound","onChangeDevice","updateDevices","onToggleVolume","onChangeVolume","setVolume","window","id","transferMyPlayback","devs","forEach","d","is_active","volume_percent","getMyDevices","data","e","popover","Popover","title","DeviceList","OverlayTrigger","trigger","placement","overlay","map","Device","name","type","active","defaultState","context","metadata","album","images","url","artists","Player","intervalHandle","undefined","getPlaybackState","mountPlayer","disconnect","getOAuthToken","cb","createEventHandlers","connect","setTimeout","on","wasPaused","repeat_mode","track_window","current_track","isPlaying","startTimer","stopTimer","deviceId","getMyCurrentPlaybackState","item","is_playing","duration_ms","progress_ms","shuffle_state","repeat_state","device","seek","setInterval","clearInterval","Friends","Social","user","User","display_name","followers","total","MenuButton","InlineButton","text","SubMenu","HomeMenu","BrowseMenu","MenuEntry","entry","Playlists","playlists","LibraryMenu","setViewport","display","getMySavedTracks","items","getMySavedAlbums","getMyTopArtists","placeholder","p","owner","tracks","Menu","onMenuClick","toggleHomeMenu","toggleLibraryMenu","toggleBrowseMenu","getUserPlaylists","limit","menuName","subMenuProps","PillButton","TrackList","playlist_uri","i","idx","Track","added_at","offset","body","context_uri","uris","a","formatDate","formatDuration","dateString","date","Date","getFullYear","getMonth","getDate","Playlist","description","uri","reduce","b","Viewport","view","subject","defaultUser","Overview","setView","getMe","getGeneric","App","search","location","hash","substr","params","URLSearchParams","get","loggedIn","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.afd3814d.chunk.js","sourcesContent":["const scopes = [\r\n  \"user-read-recently-played\",\r\n  \"user-top-read\",\r\n  \"user-library-modify\",\r\n  \"user-library-read\",\r\n  \"playlist-read-private\",\r\n  \"playlist-modify-public\",\r\n  \"playlist-modify-private\",\r\n  \"playlist-read-collaborative\",\r\n  \"user-read-email\",\r\n  \"user-read-birthdate\",\r\n  \"user-read-private\",\r\n  \"user-read-playback-state\",\r\n  \"user-modify-playback-state\",\r\n  \"user-read-currently-playing\",\r\n  \"app-remote-control\",\r\n  \"streaming\",\r\n  \"user-follow-read\",\r\n  \"user-follow-modify\"\r\n];\r\n\r\nexport default {\r\n  all() {\r\n    return scopes.join(\" \");\r\n  },\r\n  required() {\r\n    return [\r\n      \"streaming\",\r\n      \"user-read-private\",\r\n      \"user-read-playback-state\",\r\n      \"user-library-read\"\r\n    ].join(\" \");\r\n  }\r\n};\r\n","export default {\r\n  id: \"2dd54be014994735881dce8e68413558\",\r\n  secret: \"d8b721b5e4ee488195056eed544345af\",\r\n  redirect_uri: \"http://localhost:3000/\"\r\n}\r\n","import scopes from \"./scopes\";\r\nimport clientInfo from \"./clientInfo\";\r\n\r\nconst urls = Object.freeze({\r\n  api: () => \"https://api.spotify.com/v1\",\r\n  accounts: () => \"https://accounts.spotify.com\",\r\n  auth: redirect_uri =>\r\n    `${urls.accounts()}/authorize?response_type=token&client_id=${\r\n      clientInfo.id\r\n    }${\"&scope=\" +\r\n      encodeURIComponent(scopes.required())}&redirect_uri=${encodeURIComponent(\r\n      redirect_uri\r\n    )}`,\r\n  player: () => `${urls.api()}/me/player`,\r\n  shuffle: () => `${urls.player}/shuffle`,\r\n  repeat: () => `${urls.player}/repeat`\r\n});\r\n\r\nexport default urls;\r\n","import React from \"react\";\r\nimport urls from \"../data/urls\";\r\n\r\nexport default class Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: props.error,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.state.error ? <p>{this.state.error}</p> : null}\r\n        <a\r\n          href={urls.auth(\r\n            process.env.NODE_ENV === \"development\"\r\n              ? \"http://localhost:3000/\"\r\n              : \"https://nicokandut.github.io/spotify-react\"\r\n          )}\r\n        >\r\n          Login\r\n        </a>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./ControlButton.css\";\r\n\r\nexport default function ControlButton(props) {\r\n  return (\r\n    <button className=\"btn-ctrl\" onClick={props.onClick}>\r\n      <img\r\n        src={props.image}\r\n        alt={props.image}\r\n        className=\"img-ctrl hover-grow\"\r\n      />\r\n    </button>\r\n  );\r\n}\r\n\r\nexport function SmallControlButton(props) {\r\n  return (\r\n    <button className=\"btn-ctrl\" onClick={props.onClick}>\r\n      <img src={props.image} alt={props.image} className=\"img-ctrl-small\" />\r\n    </button>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./PlaybackInfo.css\";\r\nimport { SmallControlButton } from \"../misc/ControlButton\";\r\n\r\nexport default function PlaybackInfo(props) {\r\n  return (\r\n    <div className=\"d-flex col-3 info-display\">\r\n      <img src={props.image} alt=\"album art\" className=\"img-small album-art\" />\r\n      <div className=\"mt-2\">\r\n        <span className=\"track-name\">{props.track} </span><SmallControlButton image=\"plus.svg\"/>\r\n        <br />\r\n        <span className=\"artist-name\">{props.artist}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import Spotify from 'spotify-web-api-js'\r\n\r\nlet spotify = new Spotify(),\r\nauth = {\r\n    accessToken: null,\r\n    tokenType: null,\r\n    expiresIn: null\r\n}\r\n\r\nspotify.setAuth = (info) => {\r\n    auth = info\r\n    spotify.setAccessToken(info.accessToken);\r\n}\r\n\r\nspotify.getAuth = () => {\r\n      return auth\r\n}\r\n\r\nexport default spotify;\r\n","import React from \"react\";\r\nimport ControlButton from \"../misc/ControlButton\";\r\nimport api from \"../../data/api\";\r\nimport \"./PlayerButtons.css\";\r\n\r\nexport default class PlayerButtons extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      paused: props.paused,\r\n      shuffleMode: props.shuffleMode,\r\n      repeatMode: props.repeatMode\r\n    };\r\n\r\n    this.onShuffleClick = this.onShuffleClick.bind(this);\r\n    this.onPreviousClick = this.onPreviousClick.bind(this);\r\n    this.onPlayClick = this.onPlayClick.bind(this);\r\n    this.onNextClick = this.onNextClick.bind(this);\r\n    this.onRepeatClick = this.onRepeatClick.bind(this);\r\n  }\r\n\r\n  onShuffleClick() {\r\n    api\r\n      .setShuffle(!this.state.shuffleMode)\r\n      .then(value => {\r\n        this.setState({\r\n          shuffleMode: value\r\n        });\r\n      })\r\n      .catch(console.log);\r\n  }\r\n\r\n  onPreviousClick() {\r\n    api\r\n      .skipToNext()\r\n      .then(value => {\r\n        console.log(value);\r\n      })\r\n      .catch(console.log);\r\n  }\r\n\r\n  onPlayClick() {\r\n    if (this.state.paused) {\r\n      api\r\n        .play()\r\n        .then(console.log)\r\n        .catch(console.log);\r\n    } else {\r\n      api\r\n        .pause()\r\n        .then(console.log)\r\n        .catch(console.log);\r\n    }\r\n  }\r\n\r\n  onNextClick() {\r\n    api\r\n      .skipToPrevious()\r\n      .then(value => {\r\n        console.log(value);\r\n      })\r\n      .catch(console.log);\r\n  }\r\n\r\n  onRepeatClick() {\r\n    let newReapeatMode = this.parseRepeatMode(this.state.repeatMode + 1);\r\n\r\n    api\r\n      .setRepeat(newReapeatMode)\r\n      .then(value => {\r\n        this.setState({\r\n          repeatMode: this.parseRepeatMode(value)\r\n        });\r\n      })\r\n      .catch(console.log);\r\n  }\r\n\r\n  parseRepeatMode(mode) {\r\n    const types = [\"off\", \"context\", \"track\"];\r\n    if (typeof mode === \"string\") return types.indexOf(mode);\r\n    else if (typeof mode === \"number\") return types[mode % 3];\r\n    else throw new Error(\"Invalid repeat mode: \" + mode);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"d-flex justify-content-center btn-bar\">\r\n        <ControlButton\r\n          image={`./shuffle-${this.state.shuffleMode ? \"on\" : \"off\"}.svg`}\r\n          onClick={this.onShuffleClick}\r\n        />\r\n        <ControlButton image=\"./previous.svg\" onClick={this.onPreviousClick} />\r\n        <ControlButton\r\n          image={this.state.paused ? \"./play.svg\" : \"./pause.svg\"}\r\n          onClick={this.onPlayClick}\r\n        />\r\n        <ControlButton image=\"./next.svg\" onClick={this.onNextClick} />\r\n        <ControlButton\r\n          image={`./repeat-${this.state.repeatMode}.svg`}\r\n          onClick={this.onRepeatClick}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport Slider from \"rc-slider\";\r\nimport \"./Timeline.css\";\r\n\r\nconst Handle = Slider.Handle; //TODO: extract slider\r\n\r\nconst handle = props => {\r\n  const { value, dragging, index, ...restProps } = props;\r\n  return <Handle value={value} {...restProps} className=\"handle\" />;\r\n};\r\n\r\nexport default function Timeline(props) {\r\n  return (\r\n    <div className=\"d-flex justify-content-center\">\r\n      <span className=\"time\">{formatTime(props.position)}</span>\r\n      <Slider\r\n        min={0}\r\n        max={props.duration}\r\n        value={props.position}\r\n        handle={handle}  \r\n        onChange={props.onSeek}\r\n        className=\"timeline\"\r\n      />\r\n      <span className=\"time\">{formatTime(props.duration)}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction formatTime(milliseconds) {\r\n  let time = ~~(milliseconds / 1000),\r\n    hrs = ~~(time / 3600),\r\n    mins = ~~((time % 3600) / 60),\r\n    secs = ~~time % 60,\r\n    ret = \"\";\r\n\r\n  if (hrs > 0) {\r\n    ret += \"\" + hrs + \":\" + (mins < 10 ? \"0\" : \"\");\r\n  }\r\n\r\n  ret += \"\" + mins + \":\" + (secs < 10 ? \"0\" : \"\");\r\n  ret += \"\" + secs;\r\n  return ret;\r\n}\r\n","import React from \"react\";\r\nimport { OverlayTrigger, Popover } from \"react-bootstrap\";\r\nimport Slider from \"rc-slider\";\r\nimport api from \"../../data/api\";\r\nimport \"./MediaControls.css\";\r\nimport ControlButton from \"../misc/ControlButton\";\r\n\r\nexport default class MediaControls extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      devices: [],\r\n      volume: 0,\r\n      sound: true\r\n    };\r\n\r\n    this.onChangeDevice = this.onChangeDevice.bind(this);\r\n    this.updateDevices = this.updateDevices.bind(this);\r\n    this.onToggleVolume = this.onToggleVolume.bind(this);\r\n    this.onChangeVolume = this.onChangeVolume.bind(this);\r\n    this.setVolume = this.setVolume.bind(this);\r\n\r\n    this.player = window.Spotify;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateDevices();\r\n  }\r\n\r\n  onChangeDevice(id) {\r\n    api\r\n      .transferMyPlayback([id])\r\n      .then(() => {\r\n        let devs = this.state.devices, \r\n        volume = this.state.volume;\r\n        devs.forEach(d => {\r\n          d.is_active = d.id === id\r\n          if(d.is_active) {\r\n            volume = d.volume_percent\r\n          }\r\n        });\r\n\r\n        this.setState({\r\n          devices: devs,\r\n          volume: volume\r\n        });\r\n      })\r\n      .catch(console.log);\r\n  }\r\n\r\n  updateDevices() {\r\n    api\r\n      .getMyDevices()\r\n      .then(data => {\r\n        this.setState({\r\n          devices: data.devices\r\n        });\r\n      })\r\n      .catch(console.log);\r\n  }\r\n\r\n  onToggleVolume(e) {\r\n    this.setState(\r\n      {\r\n        sound: !this.state.sound\r\n      },\r\n      this.setVolume\r\n    );\r\n  }\r\n\r\n  onChangeVolume(e) {\r\n    this.setState(\r\n      {\r\n        volume: e\r\n      },\r\n      this.setVolume\r\n    );\r\n  }\r\n\r\n  setVolume() {\r\n    api\r\n      .setVolume((this.state.sound ? 1 : 0) * this.state.volume)\r\n      .then()\r\n      .catch(console.log);\r\n  }\r\n\r\n  render() {\r\n    const popover = (\r\n      <Popover title=\"Your devices\">\r\n        <DeviceList\r\n          devices={this.state.devices}\r\n          onChangeDevice={this.onChangeDevice}\r\n        />\r\n      </Popover>\r\n    );\r\n\r\n    const handle = props => {\r\n      const { value, dragging, index, ...restProps } = props;\r\n      return <Slider.Handle value={value} {...restProps} className=\"handle\" />;\r\n    };\r\n\r\n    return (\r\n      <div className=\"col-3 d-flex media-controls\">\r\n        <div className=\"devices\">\r\n          <OverlayTrigger trigger=\"click\" placement=\"top\" overlay={popover}>\r\n            <ControlButton image=\"./devices.svg\" onClick={this.updateDevices} />\r\n          </OverlayTrigger>\r\n        </div>\r\n        <div className=\"d-flex flex-grow-1 volume\">\r\n          <ControlButton image=\"./sound.svg\" onClick={this.onToggleVolume} />\r\n          <Slider\r\n            min={0}\r\n            max={100}\r\n            value={this.state.volume}\r\n            handle={handle}\r\n            onChange={this.onChangeVolume}\r\n            className=\"flex-grow-1 volume-slider\"\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport function DeviceList(props) {\r\n  return (\r\n    <div>\r\n      {props.devices.map(d => (\r\n        <Device\r\n          key={d.id}\r\n          id={d.id}\r\n          name={d.name}\r\n          type={d.type}\r\n          active={d.is_active}\r\n          onClick={props.onChangeDevice}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function Device(props) {\r\n  return (\r\n    <div\r\n      className={\"d-flex device\" + (props.active ? \" active\" : \"\")}\r\n      onClick={() => props.onClick(props.id)}\r\n    >\r\n      <img src=\"./disc.png\" alt={props.type} className=\"img-small img-device\" />\r\n      <div className=\"mt-2\">\r\n        <span className=\"device-name\">{props.name}</span>\r\n        <br />\r\n        <span className=\"device-type\">{props.type}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PlaybackInfo from \"./PlaybackInfo\";\r\nimport PlayerButtons from \"./PlayerButtons\";\r\nimport Timeline from \"./Timeline\";\r\nimport api from \"../../data/api\";\r\nimport \"./PlayerBar.css\";\r\nimport MediaControls from \"./MediaControls\";\r\n\r\nconst defaultState = {\r\n  context: {\r\n    metadata: {}\r\n  },\r\n  paused: true,\r\n  position: 0,\r\n  duration: 1,\r\n  shuffleMode: false,\r\n  repeatMode: 0,\r\n  volume: 0,\r\n  track: {\r\n    id: \"4g9e5hnElJZSOoJBRLrq1I\",\r\n    name: \"these days\",\r\n    album: {\r\n      name: \"these days\",\r\n      images: [\r\n        {\r\n          url: \"./disc.png\"\r\n        }\r\n      ]\r\n    },\r\n    artists: [\r\n      {\r\n        name: \"guccihighwaters\"\r\n      }\r\n    ]\r\n  }\r\n};\r\n\r\nexport default class Player extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.intervalHandle = undefined;\r\n    this.state = defaultState;\r\n\r\n    this.onSeek = this.onSeek.bind(this);\r\n    this.getPlaybackState = this.getPlaybackState.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.mountPlayer();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.player.disconnect();\r\n  }\r\n\r\n  mountPlayer() {\r\n    if (window.Spotify !== undefined) {\r\n      this.player = new window.Spotify.Player({\r\n        name: \"Nico's Spotify Player\",\r\n        getOAuthToken: cb => {\r\n          cb(api.getAuth().accessToken);\r\n        }\r\n      });\r\n\r\n      this.createEventHandlers();\r\n\r\n      this.player.connect();\r\n\r\n      // expose for global use\r\n      window.player = this.player;\r\n\r\n      this.getPlaybackState();\r\n    } else {\r\n      setTimeout(() => {\r\n        this.mountPlayer();\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  createEventHandlers() {\r\n    this.player.on(\"initialization_error\", e => {\r\n      console.error(\"initialization_error\", e);\r\n    });\r\n    this.player.on(\"authentication_error\", e => {\r\n      console.error(\"authentication_error\", e);\r\n    });\r\n    this.player.on(\"account_error\", e => {\r\n      console.error(\"account_error\", e);\r\n    });\r\n    this.player.on(\"playback_error\", e => {\r\n      console.error(\"playback_error\", e);\r\n    });\r\n\r\n    this.player.on(\"player_state_changed\", data => {\r\n\r\n      console.log(data)\r\n      let wasPaused = this.state.paused;\r\n\r\n      if (data !== null) {\r\n        this.setState(\r\n          {\r\n            context: data.context,\r\n            duration: data.duration,\r\n            position: data.position,\r\n            paused: data.paused,\r\n            repeatMode: data.repeat_mode,\r\n            shuffleMode: data.shuffle,\r\n            track: data.track_window.current_track\r\n          },\r\n          () => {\r\n            let isPlaying = !this.state.paused;\r\n            if (wasPaused && isPlaying) this.startTimer();\r\n            else if (!wasPaused && !isPlaying) {\r\n              this.stopTimer();\r\n            }\r\n          }\r\n        );\r\n      } else {\r\n      }\r\n    });\r\n\r\n    this.player.on(\"ready\", data => {\r\n      this.setState({\r\n        deviceId: data.deviceId\r\n      });\r\n    });\r\n  }\r\n\r\n  getPlaybackState() {\r\n    api\r\n      .getMyCurrentPlaybackState()\r\n      .then(data => {\r\n        this.setState(\r\n          {\r\n            track: data.item,\r\n            paused: !data.is_playing,\r\n            duration: data.item.duration_ms,\r\n            position: data.progress_ms,\r\n            shuffleMode: data.shuffle_state,\r\n            repeatMode: parseRepeatMode(data.repeat_state),\r\n            volume: data.device.volume_percent\r\n          },\r\n          () => {\r\n            if (!this.state.paused) this.startTimer();\r\n          }\r\n        );\r\n      })\r\n      .catch(console.log);\r\n  }\r\n\r\n  onSeek(position) {\r\n    this.player.seek(position);\r\n  }\r\n\r\n  startTimer() {\r\n    this.intervalHandle = setInterval(() => {\r\n      this.setState(\r\n        {\r\n          position: this.state.position + 1000\r\n        },\r\n        () => {\r\n          if (this.state.position >= this.state.duration) {\r\n            this.stopTimer();\r\n            setTimeout(this.getPlaybackState);\r\n          }\r\n        }\r\n      );\r\n    }, 1000);\r\n  }\r\n\r\n  stopTimer() {\r\n    clearInterval(this.intervalHandle);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"row player-bar\">\r\n        <PlaybackInfo\r\n          image={this.state.track.album.images[0].url}\r\n          track={this.state.track.name}\r\n          artist={this.state.track.artists[0].name}\r\n        />\r\n        <div className=\"col-6 ctrl-display\">\r\n          <PlayerButtons\r\n            paused={this.state.paused}\r\n            shuffleMode={this.state.shuffleMode}\r\n            repeatMode={this.state.repeatMode}\r\n          />\r\n          <Timeline\r\n            position={this.state.position}\r\n            duration={this.state.duration}\r\n            onSeek={this.onSeek}\r\n          />\r\n        </div>\r\n        <MediaControls />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction parseRepeatMode(mode) {\r\n  const types = [\"off\", \"context\", \"track\"];\r\n  if (typeof mode === \"string\") return types.indexOf(mode);\r\n  else if (typeof mode === \"number\") return types[mode];\r\n  else throw new Error(\"Invalid repeat mode: \" + mode);\r\n}","import React from \"react\";\r\nimport \"./Friends.css\";\r\n\r\nexport default class Friends extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n    //get followers\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <span className=\"message\">Currently unavailable</span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./Social.css\";\r\nimport Friends from \"./Friends\";\r\n\r\nexport default function Social({ user }) {\r\n  return (\r\n    <div className=\"d-flex flex-column social\">\r\n      <div className=\"you\">\r\n        <h3>You</h3>\r\n        <User\r\n          name={user.display_name}\r\n          image={user.images[0].url}\r\n          followers={user.followers.total}\r\n        />\r\n      </div>\r\n      <div className=\"friends\">\r\n        <h3>Your Friends</h3>\r\n        <Friends />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction User({ image, name, followers }) {\r\n  return (\r\n    <div className=\"d-flex\">\r\n      <img src={image} alt={image} className=\"img-user\" />\r\n      <div className=\"user-details\">\r\n        <span className=\"user-name\">{name}</span>\r\n        <br />\r\n        <span className=\"user-followers\">\r\n          {followers + \" follower\" + (followers !== 1 ? \"s\" : \"\")}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./MenuButton.css\";\r\nimport ControlButton from \"../misc/ControlButton\";\r\n\r\nexport default function MenuButton({ image, active, onClick }) {\r\n  return (\r\n    <div className={\"menu-item\" + (active ? \" active\" : \"\")}>\r\n      <ControlButton image={image} onClick={onClick}/>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./InlineButton.css\";\r\n\r\nexport default function InlineButton({ text, onClick }) {\r\n  return (\r\n    <span className=\"btn-inline\" onClick={onClick}>\r\n      {text}\r\n    </span>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport api from \"../../data/api\";\r\nimport \"./SubMenu.css\";\r\nimport InlineButton from \"../misc/InlineButton\";\r\n\r\nexport default function SubMenu(props) {\r\n  switch (props.type) {\r\n    case \"home\":\r\n      return <HomeMenu {...props} />;\r\n    case \"library\":\r\n      return <LibraryMenu {...props} />;\r\n    case \"browse\":\r\n      return <BrowseMenu {...props} />;\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nexport function HomeMenu(props) {\r\n  return (\r\n    <div className=\"submenu\">\r\n      <h1 className=\"\">Home</h1>\r\n      <ul className=\"list-menu\">\r\n        <MenuEntry title=\"Activity\" />\r\n        <MenuEntry\r\n          title=\"Playlists\"\r\n          entry={\r\n            <Playlists playlists={props.playlists} onClick={props.onClick} />\r\n          }\r\n        />\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport class LibraryMenu extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(props);\r\n\r\n    this.setViewport = props.onClick;\r\n    this.display = this.display.bind(this);\r\n  }\r\n\r\n  display(type) {\r\n    switch (type) {\r\n      case \"songs\":\r\n        api.getMySavedTracks().then(data => {\r\n          this.setViewport(\"songs\", undefined, data.items);\r\n        });\r\n        break;\r\n      case \"albums\":\r\n        api.getMySavedAlbums().then(data => {\r\n          this.setViewport(\"albums\", undefined, data);\r\n        });\r\n        break;\r\n      case \"artists\":\r\n        api.getMyTopArtists().then(data => {\r\n          this.setViewport(\"artists\", undefined, data);\r\n        });\r\n        break;\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"submenu\">\r\n        <h1 className=\"\">Library</h1>\r\n        <ul className=\"list-menu\">\r\n          <MenuEntry\r\n            title=\"Songs\"\r\n            entry={\r\n              <InlineButton text=\"View\" onClick={() => this.display(\"songs\")} />\r\n            }\r\n          />\r\n          <MenuEntry\r\n            title=\"Albums\"\r\n            entry={\r\n              <InlineButton\r\n                text=\"View\"\r\n                onClick={() => this.display(\"albums\")}\r\n              />\r\n            }\r\n          />\r\n          <MenuEntry\r\n            title=\"Artists\"\r\n            entry={\r\n              <InlineButton\r\n                text=\"View\"\r\n                onClick={() => this.display(\"artists\")}\r\n              />\r\n            }\r\n          />\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport function BrowseMenu() {\r\n  return (\r\n    <div className=\"submenu\">\r\n      <h1 className=\"\">Library</h1>\r\n      <ul className=\"list-menu\">\r\n        <MenuEntry\r\n          title=\"Search\"\r\n          entry={\r\n            <input type=\"search\" placeholder=\"Search\" className=\"inp-search\" />\r\n          }\r\n        />\r\n        <MenuEntry title=\"Made for you\" />\r\n        <MenuEntry title=\"Charts\" />\r\n        <MenuEntry title=\"New Releases\" />\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction MenuEntry({ title, entry = null }) {\r\n  return (\r\n    <li>\r\n      <h1>{title}</h1>\r\n      {entry}\r\n    </li>\r\n  );\r\n}\r\n\r\nfunction Playlists(props) {\r\n  return (\r\n    <ul className=\"list-menu\">\r\n      {props.playlists.map(p => (\r\n        <li\r\n          key={p.id}\r\n          className=\"d-flex playlist\"\r\n          onClick={() => props.onClick(\"playlist\", p)}\r\n        >\r\n          <img\r\n            src={p.images[0].url}\r\n            alt={p.images[0].url}\r\n            className=\"playlist-thumbnail\"\r\n          />\r\n          <div>\r\n            <span className=\"playlist-name\">{p.name}</span>\r\n            <br />\r\n            <span className=\"playlist-desc-small\">\r\n              {p.owner.display_name} - {p.tracks.total} songs\r\n            </span>\r\n          </div>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./Menu.css\";\r\nimport api from \"../../data/api\";\r\nimport MenuButton from \"./MenuButton\";\r\nimport SubMenu, { HomeMenu, LibraryMenu, BrowseMenu } from \"./SubMenu\";\r\n\r\nexport default class Menu extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: props.user,\r\n      playlists: []\r\n    };\r\n\r\n    this.onMenuClick = props.onMenuClick;\r\n\r\n    this.toggleHomeMenu = this.toggleHomeMenu.bind(this);\r\n    this.toggleLibraryMenu = this.toggleLibraryMenu.bind(this);\r\n    this.toggleBrowseMenu = this.toggleBrowseMenu.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    api\r\n      .getUserPlaylists(this.state.user.id, {\r\n        limit: 100\r\n      })\r\n      .then(data => {\r\n        this.setState(\r\n          {\r\n            playlists: data.items\r\n          },\r\n          this.toggleHomeMenu\r\n        );\r\n      });\r\n  }\r\n\r\n  toggleHomeMenu(e) {\r\n    this.setState({\r\n      menuName: \"home\",\r\n      subMenuProps: {\r\n        playlists: this.state.playlists,\r\n        onClick: this.onMenuClick\r\n      }\r\n    });\r\n  }\r\n\r\n  toggleLibraryMenu(e) {\r\n    this.setState({\r\n      menuName: \"library\",\r\n      subMenuProps: {\r\n        onClick: this.onMenuClick\r\n      }\r\n    });\r\n  }\r\n\r\n  toggleBrowseMenu(e) {\r\n    this.setState({\r\n      menuName: \"browse\"\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"d-flex menu\">\r\n        <div className=\"d-flex flex-column sidebar\">\r\n          <MenuButton\r\n            image=\"./home.svg\"\r\n            active={this.state.menuName === \"home\"}\r\n            onClick={this.toggleHomeMenu}\r\n          />\r\n          <MenuButton\r\n            image=\"./library.svg\"\r\n            active={this.state.menuName === \"library\"}\r\n            onClick={this.toggleLibraryMenu}\r\n          />\r\n          <MenuButton\r\n            image=\"./browse.svg\"\r\n            active={this.state.menuName === \"browse\"}\r\n            onClick={this.toggleBrowseMenu}\r\n          />\r\n          <div className=\"flex-grow-1\" />\r\n          <MenuButton\r\n            image=\"./settings.svg\"\r\n            active={this.state.menuName === \"settings\"}\r\n            onClick={() => {}}\r\n          />\r\n        </div>\r\n        <SubMenu type={this.state.menuName} {...this.state.subMenuProps} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./PillButton.css\";\r\n\r\nexport default function PillButton({ text, onClick }) {\r\n  return <button className=\"btn-pill\" onClick={onClick}>{text}</button>;\r\n}\r\n","import React from \"react\";\r\nimport \"./TrackList.css\";\r\nimport ControlButton, { SmallControlButton } from \"../misc/ControlButton\";\r\nimport api from \"../../data/api\";\r\n\r\nexport default function TrackList({ tracks, playlist_uri }) {\r\n  return (\r\n    <table className=\"tracks\">\r\n      <thead>\r\n        <tr>\r\n          <th />\r\n          <th />\r\n          <th>Name</th>\r\n          <th>Artist</th>\r\n          <th>Album</th>\r\n          <th>Date</th>\r\n          <th>Duration</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {tracks.map((i, idx) => (\r\n          <Track\r\n            key={i.track.id}\r\n            {...i}\r\n            playlist_uri={playlist_uri}\r\n            index={idx}\r\n          />\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n\r\nexport function Track({ added_at, track, playlist_uri, index }) {\r\n  return (\r\n    <tr>\r\n      <td>\r\n        <ControlButton\r\n          image=\"./play.svg\"\r\n          onClick={() => play(playlist_uri, index)}\r\n        />\r\n      </td>\r\n      <td>\r\n        <SmallControlButton image=\"./plus.svg\" onClick={() => {}} />\r\n      </td>\r\n      <td>{track.name}</td>\r\n      <td>{track.artists.map(a => a.name).join(\", \")}</td>\r\n      <td>{track.album.name}</td>\r\n      <td>{formatDate(added_at)}</td>\r\n      <td>{formatDuration(track.duration_ms)}</td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nfunction play(context, offset) {\r\n  let body = {};\r\n  if (typeof context === \"string\") {\r\n    body.context_uri = context;\r\n  } else if (typeof context === \"object\") {\r\n    body.uris = context;\r\n  }\r\n  body.offset = { position: offset };\r\n\r\n  console.log(body);\r\n\r\n  api.play(body);\r\n}\r\n\r\nfunction formatDuration(milliseconds) {\r\n  let time = ~~(milliseconds / 1000),\r\n    hrs = ~~(time / 3600),\r\n    mins = ~~((time % 3600) / 60),\r\n    secs = ~~time % 60,\r\n    ret = \"\";\r\n\r\n  if (hrs > 0) {\r\n    ret += \"\" + hrs + \":\" + (mins < 10 ? \"0\" : \"\");\r\n  }\r\n\r\n  ret += \"\" + mins + \":\" + (secs < 10 ? \"0\" : \"\");\r\n  ret += \"\" + secs;\r\n  return ret;\r\n}\r\n\r\nfunction formatDate(dateString) {\r\n  let date = new Date(dateString);\r\n\r\n  return `${date.getFullYear()}-${date.getMonth()}-${date.getDate()}`;\r\n}\r\n","import React from \"react\";\r\nimport \"./Playlist.css\";\r\nimport ControlButton, { SmallControlButton } from \"../misc/ControlButton\";\r\nimport PillButton from \"../misc/PillButton\";\r\nimport api from \"../../data/api\";\r\nimport TrackList from \"./TrackList\";\r\n\r\nexport default function Playlist({\r\n  name,\r\n  images,\r\n  description,\r\n  tracks,\r\n  owner,\r\n  uri\r\n}) {\r\n  const image = images[0].url,\r\n    duration = tracks.items\r\n      .map(i => i.track.duration_ms)\r\n      .reduce((a, b) => a + b);\r\n  return (\r\n    <div className=\"playlist\">\r\n      <div className=\"d-flex header\">\r\n        <img src={image} alt={image} className=\"img-playlist\" />\r\n        <div className=\"d-flex flex-column details\">\r\n          <div className=\"flex-grow-1\" />\r\n          <div>\r\n            <h1 className=\"playlist-name\">{name}</h1>\r\n            <span className=\"flew-grow-1 playlist-desc\">{description}</span>\r\n          </div>\r\n\r\n          <span className=\"playlist-meta\">\r\n            Created by {owner.display_name} - {tracks.total} songs,{\" \"}\r\n            {formatTime(duration)}\r\n          </span>\r\n          <div className=\"d-flex action-bar\">\r\n            <PillButton text=\"Play\" onClick={() => play(uri, 0)} />\r\n            <div className=\"flex-grow-1\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <TrackList tracks={tracks.items} playlist_uri={uri} />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction play(context, offset) {\r\n  let body = {};\r\n  if (typeof context === \"string\") {\r\n    body.context_uri = context;\r\n  } else if (typeof context === \"object\") {\r\n    body.uris = context;\r\n  }\r\n  body.offset = { position: offset };\r\n\r\n  console.log(body);\r\n\r\n  api.play(body);\r\n}\r\n\r\nfunction formatTime(milliseconds) {\r\n  let time = ~~(milliseconds / 1000),\r\n    hrs = ~~(time / 3600),\r\n    mins = ~~((time % 3600) / 60),\r\n    ret = \"\";\r\n\r\n  if (hrs > 0) {\r\n    ret += \"\" + hrs + \" h \" + (mins < 10 ? \"0\" : \"\");\r\n  }\r\n\r\n  ret += \"\" + mins + \" min\";\r\n  return ret;\r\n}\r\n","import React from \"react\";\r\nimport Playlist from \"./Playlist\";\r\nimport \"./Viewport.css\";\r\nimport TrackList from \"./TrackList\";\r\n\r\nexport default function Viewport(props) {\r\n  console.log(props);\r\n  let view;\r\n  switch (props.type) {\r\n    case \"playlist\":\r\n      view = <Playlist {...props.subject} />;\r\n      break;\r\n    case \"songs\":\r\n      view = <TrackList tracks={props.data} playlist_uri={null}/>;\r\n      break;\r\n    default:\r\n      view = null;\r\n  }\r\n\r\n  return <div className=\"flex-grow-1 viewport\">{view}</div>;\r\n}\r\n","import React from \"react\";\r\n\r\nimport PlayerBar from \"./player/PlayerBar\";\r\nimport Social from \"./social/Social\";\r\nimport \"./Overview.css\";\r\nimport Menu from \"./menu/Menu\";\r\nimport Viewport from \"./viewport/ViewPort\";\r\nimport api from \"../data/api\";\r\n\r\nconst defaultUser = {\r\n  name: \"\",\r\n  followers: {\r\n    total: 0\r\n  },\r\n  images: [\r\n    {\r\n      url: \"\" //TODO: default profile picture\r\n    }\r\n  ]\r\n};\r\n\r\nexport default class Overview extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: defaultUser,\r\n      type: undefined,\r\n      subject: undefined\r\n    };\r\n\r\n    this.setView = this.setView.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    api.getMe().then(data => {\r\n      this.setState({\r\n        user: data\r\n      });\r\n    });\r\n  }\r\n\r\n  setView(type, subject, data) {\r\n    if (subject)\r\n      api\r\n        .getGeneric(subject.href)\r\n        .then(data => {\r\n          console.log(data);\r\n          this.setState({\r\n            type: type,\r\n            subject: data\r\n          });\r\n        })\r\n        .catch(console.log);\r\n    else {\r\n      this.setState({\r\n        type: type,\r\n        data: data\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <main className=\"d-flex flex-column\">\r\n        <div className=\"flex-grow-1 d-flex main-view\">\r\n          <Menu user={this.state.user} onMenuClick={this.setView} />\r\n          <Viewport\r\n            type={this.state.type}\r\n            subject={this.state.subject}\r\n            data={this.state.data}\r\n          />\r\n          <Social user={this.state.user} />\r\n        </div>\r\n\r\n        <PlayerBar />\r\n      </main>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport Login from \"./components/Login\";\r\nimport Overview from \"./components/Overview\";\r\nimport api from \"./data/api\";\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    let search = window.location.hash.substr(1),\r\n      params = new URLSearchParams(search),\r\n      error = params.get(\"error\"),\r\n      accessToken = params.get(\"access_token\"),\r\n      tokenType = params.get(\"token_type\"),\r\n      expiresIn = params.get(\"expires_in\");\r\n\r\n    api.setAuth({\r\n      accessToken: accessToken,\r\n      tokenType: tokenType,\r\n      expiresIn: expiresIn\r\n    });\r\n\r\n    this.state = {\r\n      loggedIn: !error && accessToken ? true : false,\r\n      error: error\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        {!this.state.loggedIn ? (\r\n          <Login error={this.state.error} />\r\n        ) : (\r\n          <Overview />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}